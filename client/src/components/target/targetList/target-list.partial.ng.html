<section class="main">
    <ul class="todo-list">
        <li class="completed">
            <div class="view">
                <input class="toggle" type="checkbox" checked>
                <label class="task-name">
                    Make fist commit
                </label>
                <label class="task-options">
                    goalValue | metric | progress | todayLeft | dueDate
                </label>
                <button class="delete"></button>
            </div>
        </li>
        <li ng-repeat="item in vm.targets | targetFilter:vm.targetMetric.metric track by $index"
           ng-class="vm.isTaksCompleted(item) ? 'completed' : ''">
            <div class="view">
                <input class="toggle" type="checkbox"
                   ng-hide="vm.track === $index"
                   ng-click="vm.track = $index; vm.currentValue =''"
                   ng-checked="vm.isTaksCompleted(item)">
                <div ng-show="vm.track === $index">
                    <input type="text" class="toggle" placeholder="hello" ng-model="vm.currentValue">
                    <div ng-click="vm.trackTarget(vm.currentValue, $index)" class="success">ok</div>
                </div>
                <label class="task-name" ng-bind="item.name">
                </label>

                <label class="task-options">
                    <div style="float: left" ng-bind="item.goalValue">{{item.goalValue}}</div>
                    <div style="float: left" ng-bind="'|' + item.metric"> </div>
                    <div style="float: left" ng-bind="'|' + vm.countTotalProgress(item.progress,item.goalValue)  + '% '"></div>
                    <div style="float: left" ng-bind="'|' + vm.shoulDo(item) + ' per ' + vm.getMetric(item.frequency)"></div>
                    <div style="float: left" ng-bind="'|' + vm.getTotal(item.progress, true) + item.metric +' today'"></div>
                    <div style="float: left">| {{item.goalDate | date}}</div>
                </label>
                <button class="delete"></button>
            </div>
        </li>
    </ul>
</section>
<footer class="footer">
    <span class="todo-count"><strong ng-bind='vm.targets.length'></strong> item left</span>
    <ul class="filters">
        <li>
            <a class="selected" href="#">All [12]</a>
        </li>
        <li>
            <a href="#">Active [12]</a>
        </li>
        <li>
            <a href="#">Completed [1]</a>
        </li>
    </ul>
    <button class="clear-completed">Clear completed</button>
</footer>