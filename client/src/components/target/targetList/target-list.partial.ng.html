<section class="main">
    <ul class="todo-list">
        <li class="completed">
            <div class="view">
                <input class="toggle" type="checkbox" checked>
                <label class="task-name">
                    Make fist commit
                </label>
                <label class="task-options">
                    goalValue | metric | progress | todayLeft | dueDate
                </label>
                <button class="delete"></button>
            </div>
        </li>
        <li ng-repeat="item in vm.targets | targetFilter:vm.targetMetric.metric track by $index">
            <div class="view">
                <input ng-hide="vm.track === $index" ng-click="vm.track = $index; vm.currentValue =''" class="toggle" type="checkbox">
                <div ng-show="vm.track === $index">
                    <input type="text" class="toggle" placeholder="hello" ng-model="vm.currentValue">
                    <div ng-click="vm.trackTarget(vm.currentValue, $index)" class="success">ok</div>
                </div>
                <label class="task-name" ng-bind="item.name">
                </label>

                <label class="task-options">
                    {{item.goalValue}} | {{item.metric}} | {{vm.countTotalProgress(item.progress,item.goalValue) + '%'}} | {{vm.countToday(item.progress,
                    item.frequency,item.goalDate, item.goalValue)}} {{ 'per '+ vm.getMetric(item.frequency)}} | {{item.goalDate
                    | date}}
                </label>
                <button class="delete"></button>
            </div>
        </li>
    </ul>
</section>
<footer class="footer">
    <span class="todo-count"><strong ng-bind='vm.targets.length'></strong> item left</span>
    <ul class="filters">
        <li>
            <a class="selected" href="#">All</a>
        </li>
        <li>
            <a href="#">Active</a>
        </li>
        <li>
            <a href="#">Completed</a>
        </li>
    </ul>
    <button class="clear-completed">Clear completed</button>
</footer>